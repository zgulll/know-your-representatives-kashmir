<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Know Your Politician â€“ Kashmir</title>

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f6fa;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .card {
      background: white;
      padding: 20px;
      border-radius: 12px;
      width: 500px;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    h1 {
      margin-bottom: 10px;
    }

    p {
      color: #555;
    }

    #map {
      height: 350px;
      width: 100%;
      margin-top: 15px;
      border-radius: 10px;
      border: 1px solid #ccc;
    }

    .note {
      margin-top: 12px;
      font-size: 14px;
      color: #888;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>Know Your Politician â€“ Kashmir</h1>
    <p>Click on a Kashmir district to learn about your representative.</p>

    <div id="map"></div>

    <div class="note">ðŸš§ Under construction â€” representative data coming soon</div>
  </div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    // Initialize map centered on Jammu & Kashmir
    const map = L.map('map').setView([34.2, 74.8], 7);

    // Base map
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: 'Â© OpenStreetMap'
    }).addTo(map);

    // Style for full region outline (Jammu + Kashmir + Ladakh)
    function outlineStyle() {
      return {
        color: '#444',
        weight: 2,
        fillColor: '#e0e0e0',
        fillOpacity: 0.3
      };
    }

    // Style for Kashmir districts only
    function districtStyle() {
      return {
        color: '#2c3e50',
        weight: 1.5,
        fillColor: '#74b9ff',
        fillOpacity: 0.5
      };
    }

    // When a Kashmir district is clicked
    function onEachDistrict(feature, layer) {
      const name = feature.properties.district || feature.properties.NAME_2 || 'Unknown District';

      layer.on('click', function () {
        alert('District: ' + name + '\nRepresentative data coming soon!');
      });

      layer.bindTooltip(name, { sticky: true });
    }

    /*
      IMPORTANT FILES YOU MUST ADD:

      1. jk_outline.geojson   -> Outline of Jammu + Kashmir + Ladakh
      2. kashmir_districts.geojson -> ONLY districts of Kashmir Valley

      Put both files in the SAME folder as index.html
    */

    // Load full region outline (Jammu + Kashmir + Ladakh)
    fetch('data/jk_outline.geojson')
      .then(res => res.json())
      .then(data => {
        L.geoJSON(data, {
          style: outlineStyle
        }).addTo(map);
      });

    // Load Kashmir districts only (clickable)
    fetch('data/kashmir_districts.geojson')
      .then(res => res.json())
      .then(data => {
        L.geoJSON(data, {
          style: districtStyle,
          onEachFeature: onEachDistrict
        }).addTo(map);
      });
  </script>
</body>
</html>
